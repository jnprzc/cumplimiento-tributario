<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autodiagn√≥stico Tributario | Corenta</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <h1>üè¢ Autodiagn√≥stico Tributario</h1>
            <p class="subtitle">Conoce el estado de cumplimiento de tu empresa en segundos</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Secci√≥n de Consulta -->
        <section class="consulta-section">
            <div class="card">
                <h2>Ingresa el NIT de tu empresa</h2>
                <p class="help-text">Consulta gratuita ‚Ä¢ Sin registro ‚Ä¢ Resultado inmediato</p>
                
                <form id="consultaForm">
                    <div class="input-group">
                        <input 
                            type="text" 
                            id="nitInput" 
                            placeholder="Ej: 890903938"
                            maxlength="11"
                            required
                        >
                        <button type="submit" id="consultarBtn">
                            <span id="btnText">Consultar</span>
                            <span id="btnLoader" class="loader hidden"></span>
                        </button>
                    </div>
                    <p class="input-hint">Ingresa 9 d√≠gitos sin puntos ni guiones</p>
                </form>
            </div>
        </section>

        <!-- Secci√≥n de Resultados (oculta inicialmente) -->
        <section id="resultadosSection" class="resultados-section hidden">
            <!-- Informaci√≥n de la Empresa -->
            <div class="card">
                <h2>üìä Informaci√≥n de la Empresa</h2>
                <div class="empresa-info" id="empresaInfo">
                    <!-- Se llenar√° din√°micamente -->
                </div>
            </div>

            <!-- Mapa de Cumplimiento -->
            <div class="card">
                <h2>üó∫Ô∏è Mapa de Cumplimiento Tributario</h2>
                
                <!-- Score -->
                <div class="score-display">
                    <div class="score-circle">
                        <svg viewBox="0 0 200 200">
                            <defs>
                                <linearGradient id="scoreGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <!-- C√≠rculo de fondo -->
                             <circle class="score-circle-bg" cx="100" cy="100" r="90"></circle>
                            <!-- C√≠rculo de progreso -->
                            <circle 
                                id="scoreProgress"
                                class="score-circle-progress" 
                                cx="100" 
                                cy="100" 
                                r="90"
                                stroke-dasharray="565.48"
                                stroke-dashoffset="565.48">
                            </circle>
                          </svg>
                          <div class="score-text">
                            <div class="score-number">
                                <span id="scoreValue">0</span><span class="score-total">/100</span>
                            </div>
                            <span class="score-label-new" id="nivelBadgeText">Calculando...</span>
                        </div>
                    </div>
                    <div id="nivelBadge"></div>
                </div>


                <!-- Estado Matr√≠cula -->
                <div class="estado-activo" id="matriculaCard">
                    <span class="obligacion-icon" id="matriculaIcon">‚úÖ</span>
                    <div style="flex: 1;">
                        <div class="obligacion-titulo">Matr√≠cula Mercantil</div>
                        <div class="obligacion-estado" id="matriculaEstado">ACTIVA</div>
                    </div>
                </div>

                <!-- Obligaciones Tributarias -->
                <h3 class="subsection-title">Obligaciones Tributarias</h3>
                
                <div class="obligacion-item">
                    <div class="obligacion-header">
                        <span class="obligacion-icon">üïê</span>
                        <span class="obligacion-titulo">IVA</span>
                    </div>
                    <span class="obligacion-estado">Por verificar en DIAN</span>
                </div>

                <div class="obligacion-item">
                    <div class="obligacion-header">
                        <span class="obligacion-icon">üïê</span>
                        <span class="obligacion-titulo">Retenci√≥n en la Fuente</span>
                    </div>
                    <span class="obligacion-estado">Por verificar en DIAN</span>
                </div>
                
                <div class="obligacion-item">
                    <div class="obligacion-header">
                        <span class="obligacion-icon">üïê</span>
                        <span class="obligacion-titulo" id="icaTitulo">ICA</span>
                    </div>
                    <span class="obligacion-estado" id="icaEstado">Por verificar con Alcald√≠a</span>
                </div>

                <div class="obligacion-item">
                    <div class="obligacion-header">
                        <span class="obligacion-icon">üïê</span>
                        <span class="obligacion-titulo">Renta Persona Jur√≠dica</span>
                    </div>
                    <span class="obligacion-estado">Por verificar en DIAN</span>
                </div>
            </div>

            <!-- Pr√≥ximos Pasos -->
            <div class="card">
                <h2>üìã Pr√≥ximos Pasos Recomendados</h2>
                <ol class="pasos-lista" id="pasosList">
                    <!-- Se llenar√° din√°micamente -->
                </ol>
            </div>

            <!-- Captura de Lead -->
            <div class="card lead-card">
                <h2>üìß Recibe el Reporte Completo</h2>
                <p>Ingresa tu email y te enviaremos un an√°lisis detallado con recomendaciones personalizadas</p>
                
                <form id="leadForm">
                    <div class="input-group">
                        <input 
                            type="email" 
                            id="emailInput" 
                            placeholder="tu@email.com"
                            required
                        >
                        <button type="submit">Enviar Reporte</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Mensaje de Error -->
        <div id="errorMessage" class="error-message hidden">
            <p id="errorText"></p>
        </div>
    </main>

    <!-- Footer con Avisos Legales -->
    <footer class="footer-legal">
        <div class="footer-content">
            <div class="footer-section">
                <h4>üìä Metodolog√≠a de Score</h4>
                <p>
                    Nuestro score (0-100 puntos) es una <strong>metodolog√≠a propia de Corenta</strong> 
                    que eval√∫a el cumplimiento tributario bas√°ndose en se√±ales verificables de 
                    fuentes oficiales. <a href="#metodologia" class="footer-link">Ver detalles</a>
                </p>
            </div>
            
            <div class="footer-section">
                <h4>üîç Fuentes de Informaci√≥n</h4>
                <p>
                    Informaci√≥n consolidada de fuentes p√∫blicas oficiales: 
                    <strong>RUES, DIAN, C√°maras de Comercio, Secretar√≠as de Hacienda Municipales</strong>. 
                    Los datos mostrados son de car√°cter p√∫blico y se obtienen mediante consultas 
                    automatizadas a bases de datos gubernamentales.
                </p>
            </div>
            
            <div class="footer-section">
                <h4>üîí Privacidad y Protecci√≥n de Datos</h4>
                <p>
                    Al usar este sistema, usted acepta nuestra 
                    <a href="privacidad.html" class="footer-link" target="_blank">
                        <strong>Pol√≠tica de Tratamiento de Datos Personales</strong>
                    </a> 
                    conforme a la Ley 1581 de 2012. No almacenamos informaci√≥n tributaria privada.
                </p>
            </div>
            
            <div class="footer-divider"></div>
            
            <div class="footer-bottom">
                <p>
                    Desarrollado por <strong>Corenta</strong> ‚Ä¢ Sistema de Autodiagn√≥stico Tributario
                </p>
                <p class="footer-disclaimer">
                    Versi√≥n MVP - Los datos mostrados son preliminares y solo tienen fines informativos. 
                    Para asesor√≠a tributaria profesional, consulte con un contador p√∫blico certificado.
                </p>
            </div>
        </div>
    </footer>

    <!-- Modal de Metodolog√≠a -->
    <div id="metodologiaModal" class="modal hidden">
        <div class="modal-content">
            <span class="modal-close" onclick="cerrarMetodologia()">&times;</span>
            <h2>üìä Metodolog√≠a de Score Corenta</h2>
            
            <div class="metodologia-intro">
                <p>
                    El <strong>Score de Cumplimiento Corenta</strong> es una m√©trica propietaria 
                    (0-100 puntos) que mide el nivel de cumplimiento tributario y mercantil 
                    de una empresa colombiana mediante la verificaci√≥n automatizada de se√±ales 
                    en fuentes oficiales.
                </p>
            </div>

            <h3>üéØ Se√±ales Evaluadas (7 componentes)</h3>
            
            <table class="metodologia-tabla">
                <thead>
                    <tr>
                        <th>Se√±al</th>
                        <th>Puntos</th>
                        <th>Fuente</th>
                        <th>Criterio de Verificaci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>‚úÖ Matr√≠cula Mercantil Activa</td>
                        <td>20</td>
                        <td>RUES</td>
                        <td>Estado "ACTIVA" en registro mercantil</td>
                    </tr>
                    <tr>
                        <td>üîÑ Renovaci√≥n Vigente</td>
                        <td>15</td>
                        <td>RUES</td>
                        <td>Renovaci√≥n en √∫ltimos 12 meses</td>
                    </tr>
                    <tr>
                        <td>üìè Tama√±o Empresarial</td>
                        <td>0-20</td>
                        <td>RUES</td>
                        <td>Grande: 20, Mediana: 15, Peque√±a: 10, Micro: 5</td>
                    </tr>
                    <tr>
                        <td>üìÑ RUT Verificado</td>
                        <td>15</td>
                        <td>DIAN</td>
                        <td>RUT activo con responsabilidades declaradas</td>
                    </tr>
                    <tr>
                        <td>üèõÔ∏è ICA Vigente</td>
                        <td>10</td>
                        <td>Alcald√≠a</td>
                        <td>Registro ICA activo en municipio de domicilio</td>
                    </tr>
                    <tr>
                        <td>‚öñÔ∏è Sin Sanciones</td>
                        <td>10</td>
                        <td>DIAN</td>
                        <td>Ausencia de sanciones tributarias vigentes</td>
                    </tr>
                    <tr>
                        <td>üåç Comercio Exterior Activo</td>
                        <td>10</td>
                        <td>DIAN Aduana</td>
                        <td>Registro importador/exportador con operaciones recientes</td>
                    </tr>
                </tbody>
            </table>

            <h3>üìà Clasificaci√≥n por Nivel</h3>
            <div class="niveles-grid">
                <div class="nivel-card premium">
                    <h4>üèÜ Premium</h4>
                    <p class="puntos">80-100 puntos</p>
                    <p class="descripcion">
                        Cumplimiento excepcional. Empresa con todas las obligaciones al d√≠a 
                        y se√±ales positivas verificadas.
                    </p>
                </div>
                
                <div class="nivel-card confiable">
                    <h4>‚úÖ Confiable</h4>
                    <p class="puntos">50-79 puntos</p>
                    <p class="descripcion">
                        Cumplimiento satisfactorio. Empresa con obligaciones b√°sicas al d√≠a, 
                        pero con √°reas de mejora identificadas.
                    </p>
                </div>
                
                <div class="nivel-card basico">
                    <h4>‚ö†Ô∏è B√°sico</h4>
                    <p class="puntos">0-49 puntos</p>
                    <p class="descripcion">
                        Cumplimiento m√≠nimo o insuficiente. Se requiere atenci√≥n urgente 
                        a obligaciones tributarias.
                    </p>
                </div>
            </div>

            <h3>üî¨ Algoritmo de C√°lculo</h3>
            <div class="algoritmo-box">
                <pre>
    Score Total = Œ£ (Se√±al Activa √ó Peso Se√±al)

    Donde:
    - Se√±al Activa ‚àà {0, 1} (binario: cumple o no cumple)
    - Peso Se√±al = puntos asignados a cada se√±al
    - Score Total ‚àà [0, 100]

    Ejemplo Bancolombia (NIT 890903938):
    Matr√≠cula Activa:     20 pts ‚úì
    Renovaci√≥n Vigente:   15 pts ‚úì
    Tama√±o Grande:        20 pts ‚úì
    RUT Verificado:       15 pts ‚úì
    ICA Vigente:           0 pts ‚úó (pendiente)
    Sin Sanciones:         0 pts ‚úó (pendiente)
    Comercio Exterior:    10 pts ‚úì (importador activo)
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    TOTAL:                70 pts ‚Üí Nivel: Confiable
                </pre>
            </div>

            <h3>‚ö° Actualizaci√≥n y Precisi√≥n</h3>
            <p>
                Las se√±ales se verifican en tiempo real mediante consultas automatizadas 
                a APIs oficiales. La frecuencia de actualizaci√≥n depende de la disponibilidad 
                de cada fuente:
            </p>
            <ul>
                <li><strong>RUES:</strong> Datos actualizados diariamente por las C√°maras de Comercio</li>
                <li><strong>DIAN:</strong> Informaci√≥n tributaria con delay de hasta 48 horas</li>
                <li><strong>Alcald√≠as:</strong> Actualizaci√≥n variable seg√∫n municipio</li>
            </ul>

            <div class="metodologia-footer">
                <p>
                    <strong>Nota:</strong> Esta metodolog√≠a es propiedad intelectual de Corenta 
                    y est√° en constante evoluci√≥n. La versi√≥n actual (v1.0) se basa en investigaci√≥n 
                    acad√©mica y mejores pr√°cticas del sector contable colombiano.
                </p>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>